---

certbot_install: true
certbot_auto_renew: true
certbot_email: ""
certbot_venv_path: "/opt/certbot"
certbot_pkgs: ["certbot"]
certbot_extra_pkgs: []
certbot_credentials_path: "/etc/letsencrypt/credentials.ini"
certbot_credentials_content: ""
certbot_generate_command: ""  # excluding -d
certbot_domains: []
  # - "example.com,*.example.com"
certbot_renew_hooks: []
  # - name: restart-nginx
  #   type: deploy
  #   content: |
  #     #/bin/sh
  #     systemctl restart nginx

__certbot_venv_update_pre: "{{ certbot_venv_path }}/bin/pip install --upgrade pip setuptools wheel"
__certbot_venv_update: "{{ certbot_venv_path }}/bin/pip install --upgrade {{ (certbot_pkgs + certbot_extra_pkgs) | join(' ') }}"
__certbot_renew: "{{ __certbot_bin_path }} renew -n"
