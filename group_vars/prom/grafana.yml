---

grafana_admin_pass: "{{ vault_grafana_admin_pass }}"
grafana_admin_user: "{{ vault_grafana_admin_user }}"
grafana_psql_pass: "{{ vault_grafana_psql_pass }}"
grafana_domain: "grafana.{{ hostvars['webgw01'].domains[1] }}"
grafana_url: "https://{{ grafana_domain }}/"
grafana_instance: "localhost"
grafana_address: "0.0.0.0"
grafana_port: 3000
grafana_dashboards_dir: "{{ inventory_dir }}/files/grafana/dashboards"

smtp_host: "{{ smtp_config[hostvars['dresrv'].domain].host }}"
smtp_pass: "{{ smtp_config[hostvars['dresrv'].domain].pass }}"
smtp_port: "{{ smtp_config[hostvars['dresrv'].domain].port }}"
smtp_user: "{{ smtp_config[hostvars['dresrv'].domain].user }}"

grafana_security:
  admin_user: "{{ grafana_admin_user }}"
  admin_password: "{{ grafana_admin_pass }}"
grafana_smtp:
  host: "{{ smtp_host }}:{{ smtp_port }}"
  user: "{{ smtp_user }}"
  password: "{{ smtp_pass }}"
  from_address: "grafana@{{ hostvars['dresrv'].domain }}"
grafana_database:
  type: postgres
  host: "{{ hostvars['pg01'].ansible_host }}:5432"
  user: grafana
  password: "{{ grafana_psql_pass }}"
grafana_datasources:
  - name: "Prometheus"
    type: "prometheus"
    access: "proxy"
    url: "http://localhost:{{ prometheus_port }}/"
    basicAuth: false
grafana_dashboards: []

grafana_plugins:
  - grafana-piechart-panel
