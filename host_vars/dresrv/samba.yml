---

samba_hosts_allow:
  - 127.0.0.1
  - "{{ home_net.general.cidr }}"

samba_interfaces:
  - lo
  - "{{ ansible_default_ipv4.interface }}"

samba_extra_global_options:
  "security": user
  "server string": "{{ ansible_hostname }} {{ ansible_distribution }}"
  "client min protocol": SMB2
  "server min protocol": SMB2
  "passdb backend": tdbsam
  "load printers": false
  "allow insecure wide links": false
  "mangled names": false
  "unix extensions": false
  "unix password sync": true
  "pam password change": true

samba_shares:
  homes:
    comment: "Home Directories"
    browseable: false
    writable: true
    "follow symlinks": true
    "wide links": true

  srv:
    comment: "SSD Storage"
    path: "/srv"
    writable: true

  tank:
    comment: "Rust Storage"
    path: "/tank"
    writable: true
    "hide files": "yes"
