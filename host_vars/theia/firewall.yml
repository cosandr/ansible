---

firewalld_zones:
  - name: internal
    interfaces:
      - MGMT
      - SAN

  - name: public
    interfaces:
      - GENERAL
      - VM
      - NOINET

firewalld_services:
  - name: cockpit
    zone: public
    state: absent

  - name: samba-client
    zone: internal
    state: absent

  - name: samba-client
    zone: public
    state: absent

  - name: nfs3
    zone: internal

  - name: nfs3
    zone: public

  - name: samba
    zone: public

  - name: cockpit
    zone: public
    sources: "{{ firewall_trusted_sources }}"

firewall_rules:
  - port: 8384
    zone: public
    sources: "{{ proxy_hosts }}"

  - port: "{{ nginx_ports['www'] }}"
    zone: public
    sources: "{{ proxy_hosts }}"
