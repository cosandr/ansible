---

network_manager: "{{ 'systemd-networkd' if desktop_environment in ['i3', 'sway'] else 'NetworkManager' }}"
networkd_config:
  - wired: |
      [Match]
      Name=en*

      [Link]
      RequiredForOnline=no

      [Network]
      DHCP=yes
      IPForward=yes

      [DHCP]
      RouteMetric=1024
  - wlan: |
      [Match]
      Type=wlan

      [Link]
      RequiredForOnline=no

      [Network]
      DHCP=yes
      IPForward=yes

      [DHCP]
      RouteMetric=2048
