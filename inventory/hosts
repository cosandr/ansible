[all]
# BEGIN AUTO GENERATED VARIABLES
localgw01    ansible_host="10.0.10.64"
localgw02    ansible_host="10.0.10.65"
localgw03    ansible_host="10.0.10.66"
localgw04    ansible_host="10.0.10.67"
localgw05    ansible_host="10.0.10.68"
localgw06    ansible_host="10.0.10.69"
localgw07    ansible_host="10.0.10.70"
pg01         ansible_host="10.0.10.84"
pgbak01      ansible_host="10.0.10.88"
gitlab01     ansible_host="10.0.10.90"
gitrun01     ansible_host="10.0.10.92"
gitrun02     ansible_host="10.0.10.93"
loki01       ansible_host="10.0.10.96"
minio01      ansible_host="10.0.10.100"
nextcloud01  ansible_host="10.0.10.104"
docker01     ansible_host="10.0.10.106"
prom01       ansible_host="10.0.10.108"
k8s01        ansible_host="10.0.27.64"
k8s02        ansible_host="10.0.27.65"
k8s03        ansible_host="10.0.27.66"
k8s04        ansible_host="10.0.27.80"
k8s05        ansible_host="10.0.27.81"
k8s06        ansible_host="10.0.27.82"
k8s07        ansible_host="10.0.27.83"
talos01      ansible_host="10.0.28.64"
talos02      ansible_host="10.0.28.65"
talos03      ansible_host="10.0.28.66"
talos04      ansible_host="10.0.28.80"
talos05      ansible_host="10.0.28.81"
talos06      ansible_host="10.0.28.82"
talos07      ansible_host="10.0.28.83"
desktop      ansible_host="10.0.50.64"
laptop       ansible_host="10.0.50.65"   wireguard_ip="10.4.20.65"
m1bp         ansible_host="10.0.50.66"   wireguard_ip="10.4.20.66"
drepi        ansible_host="10.0.50.128"
oldpi        ansible_host="10.0.50.129"
ax56u        ansible_host="10.0.50.133"
ha           ansible_host="10.0.50.134"
ipad         ansible_host="10.0.50.138"  wireguard_ip="10.4.20.138"
p7           ansible_host="10.0.50.139"  wireguard_ip="10.4.20.139"
lgtv         ansible_host="10.0.50.148"
ps5          ansible_host="10.0.50.149"
deck         ansible_host="10.0.50.150"
bme01        ansible_host="10.0.55.65"
bme04        ansible_host="10.0.55.68"
bme05        ansible_host="10.0.55.69"
deltaco_plug ansible_host="10.0.55.74"
rb5009       ansible_host="10.0.100.1"   wireguard_ip="10.4.20.1"
crs226       ansible_host="10.0.100.2"
crs309       ansible_host="10.0.100.3"
theia        ansible_host="10.0.100.16"
aegir        ansible_host="10.0.100.17"
gerd         ansible_host="10.0.100.18"
ymir         ansible_host="10.0.100.19"
atla         ansible_host="10.0.100.20"
nari         ansible_host="10.0.100.21"
nott         ansible_host="10.0.100.22"
syno         ansible_host="10.0.100.128"
webgw01      wireguard_ip="10.4.20.80"
romsto       wireguard_ip="10.4.20.96"
rompi        wireguard_ip="10.4.20.97"
romgw01      wireguard_ip="10.4.20.98"
# END AUTO GENERATED VARIABLES

[all:vars]
# Do not define these in group_vars, they override this file
host_net=general
host_subnet=clients
host_wg_net=mt

[gui:children]
desktops
laptops

[gui:vars]
host_subnet=trusted
host_wg_subnet=trusted

[desktops]
desktop host_num=0

[laptops]
laptop  host_num=1 host_wg_num=1
m1bp    host_num=2 host_wg_num=2

[kvm_hv]
theia cpu_tier=2 host_num=0
atla  cpu_tier=1 host_num=4

[kvm_hv:children]
ms01
thinkcentre

[thinkcentre]
aegir host_num=1
gerd  host_num=2
ymir  host_num=3

[thinkcentre:vars]
cpu_tier=3

[ms01]
nari  host_num=5
nott  host_num=6

[ms01:vars]
cpu_tier=1

[vpro]
gerd
ymir

[vpro:children]
ms01

[kvm_hv:vars]
host_net=mgmt
host_subnet=hosts

[servers]
syno    ansible_user=andrei host_net=mgmt host_num=0

[servers:children]
kvm_hv
libvirt
rom
rpi
webgw

[servers:vars]
ansible_group_priority=1

[kvm_hv:vars]
ansible_group_priority=2

[libvirt:children]
db
gitlab
gitrun
k8s_cluster
localgw
loki
minio
nextcloud
docker
prom
talos

[libvirt:vars]
host_net=vm
ansible_group_priority=2

[rpi]
drepi   ansible_user=andrei host_num=0
oldpi   ansible_user=andrei host_num=1
rompi   ansible_user=andrei

[db:children]
pg
pgbackrest

[pg]
pg01 host_num=0

[pg:vars]
host_subnet=pg

[pgbackrest]
pgbak01 host_num=0

[pgbackrest:vars]
host_subnet=pgbackrest

[mikrotik]
rb5009 host_num=1 host_wg_num=1
crs226 host_num=2
crs309 host_num=3

[mikrotik:vars]
host_net=mgmt
host_subnet=switches
host_num6_offset=false
host_wg_num6_offset=false
host_wg_subnet=switches

[gitlab]
gitlab01 host_num=0

[gitlab:vars]
host_subnet=gitlab

[gitrun]
gitrun01 host_num=0
gitrun02 host_num=1

[gitrun:vars]
host_subnet=gitrun

[prom_common]
webgw01

[prom_common:children]
prom

[prom]
prom01 host_num=0

[prom:vars]
host_subnet=prom
ansible_group_priority=10

[loki]
loki01 host_num=0

[loki:vars]
host_subnet=loki

[localgw]
localgw[01:07]

[localgw:vars]
host_subnet=localgw

[webgw]
webgw01 host_wg_num=0
romgw01

[webgw:children]
localgw

[webgw:vars]
host_wg_subnet=webgw
ansible_group_priority=3

[nextcloud]
nextcloud01 host_num=0

[nextcloud:vars]
host_subnet=nextcloud

[docker]
docker01 host_num=0

[docker:vars]
host_subnet=docker

[minio]
minio01 host_num=0

[minio:vars]
host_subnet=minio

[ceph:children]

[ceph:vars]
ansible_group_priority=3

[rom]
romsto  ansible_host=10.1.0.6  host_wg_subnet=rom host_wg_num=0
rompi   ansible_host=10.1.0.3  host_wg_subnet=rom host_wg_num=1
romgw01 ansible_host=10.1.0.91 host_wg_subnet=rom host_wg_num=2

[rom:vars]
ansible_group_priority=10

[kube_common:children]
talos
k8s_cluster

[kube_common:vars]
ansible_group_priority=2

[talos:children]
talos_cp
talos_worker

[talos:vars]
host_net=talos

[talos_cp]
talos[01:03]

[talos_cp:vars]
host_subnet=control_plane

[talos_worker]
talos[04:07]

[talos_worker:vars]
host_subnet=worker

# kubespray
[k8s_cluster]
k8s01 host_num=0 etcd_member_name=etcd01 vm_mem=4096
k8s02 host_num=1 etcd_member_name=etcd02
k8s03 host_num=2 etcd_member_name=etcd03
k8s04 host_num=0
k8s05 host_num=1
k8s06 host_num=2
k8s07 host_num=3 vm_mem=4096

[k8s_cluster:vars]
host_net=kube

[kube_control_plane]
k8s[01:03]

[kube_control_plane:vars]
host_subnet=control_plane

[etcd]
k8s[01:03]

[kube_node]
k8s[04:07]

[kube_node:vars]
host_subnet=worker

[unmanaged_hosts]
ax56u        host_num=5
ha           host_num=6
ipad         host_num=10 host_wg_num=10
p7           host_num=11 host_wg_num=11
lgtv         host_num=20
ps5          host_num=21
deck         host_num=22
bme01        host_num=1   host_net=public
bme04        host_num=4   host_net=public
bme05        host_num=5   host_net=public
deltaco_plug host_num=10  host_net=public

[unmanaged_hosts:vars]
host_net=general
host_subnet=clients
host_wg_subnet=clients
